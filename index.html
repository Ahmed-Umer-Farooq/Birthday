<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday GUL_E_MAHI</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;600;700&family=Poppins:wght@300;400;600&family=Great+Vibes&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 50%, #fecfef 100%);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        .sparkles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .sparkle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: #fff;
            border-radius: 50%;
            animation: sparkle 3s infinite;
        }

        @keyframes sparkle {
            0%, 100% { opacity: 0; transform: scale(0); }
            50% { opacity: 1; transform: scale(1); }
        }

        .scene {
            display: none;
            min-height: 100vh;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            text-align: center;
            padding: 20px;
            position: relative;
            z-index: 2;
        }

        .scene.active {
            display: flex;
        }

        /* Scene 1 - Gate Entry */
        .gate-text {
            font-family: 'Dancing Script', cursive;
            font-size: 3rem;
            color: #fff;
            text-shadow: 0 0 20px rgba(255, 255, 255, 0.8);
            margin-bottom: 50px;
            animation: glow 2s ease-in-out infinite alternate;
        }

        @keyframes glow {
            from { text-shadow: 0 0 20px rgba(255, 255, 255, 0.8); }
            to { text-shadow: 0 0 30px rgba(255, 255, 255, 1), 0 0 40px rgba(255, 192, 203, 0.8); }
        }

        .magical-gate {
            width: 400px;
            height: 500px;
            position: relative;
            cursor: pointer;
            margin: 20px auto;
            filter: drop-shadow(0 15px 35px rgba(0, 0, 0, 0.4));
            perspective: 1000px;
        }

        .gate-door {
            position: absolute;
            width: 50%;
            height: 100%;
            background: linear-gradient(145deg, #2C1810 0%, #8B4513 20%, #CD853F 40%, #DEB887 60%, #F4A460 80%, #FFE4B5 100%);
            border: 8px solid #FFD700;
            border-radius: 30px 30px 5px 5px;
            transition: transform 1.5s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 
                inset 0 0 30px rgba(255, 215, 0, 0.3),
                inset 0 0 60px rgba(139, 69, 19, 0.2),
                0 10px 30px rgba(0, 0, 0, 0.4),
                0 0 50px rgba(255, 215, 0, 0.2);
            overflow: hidden;
        }

        .gate-door::before {
            content: '';
            position: absolute;
            top: 15px;
            left: 15px;
            right: 15px;
            bottom: 15px;
            border: 4px solid rgba(255, 215, 0, 0.8);
            border-radius: 20px 20px 0 0;
            background: linear-gradient(135deg, 
                rgba(255, 255, 255, 0.2) 0%, 
                transparent 30%, 
                rgba(255, 215, 0, 0.1) 70%, 
                transparent 100%);
            box-shadow: inset 0 0 20px rgba(255, 215, 0, 0.3);
        }

        .gate-door::after {
            content: '';
            position: absolute;
            top: 50px;
            left: 30px;
            right: 30px;
            height: 200px;
            background: linear-gradient(180deg, 
                rgba(255, 215, 0, 0.4) 0%, 
                transparent 50%, 
                rgba(139, 69, 19, 0.3) 100%);
            border-radius: 15px;
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.2);
        }

        .gate-door.left {
            left: 0;
            transform-origin: left center;
        }

        .gate-door.right {
            right: 0;
            transform-origin: right center;
        }

        .gate-door.open.left {
            transform: rotateY(-130deg);
        }

        .gate-door.open.right {
            transform: rotateY(130deg);
        }

        .gate-handle {
            position: absolute;
            width: 25px;
            height: 25px;
            background: radial-gradient(circle at 30% 30%, 
                #FFFACD 0%, 
                #FFD700 30%, 
                #FFA500 70%, 
                #FF8C00 90%, 
                #B8860B 100%);
            border-radius: 50%;
            top: 50%;
            transform: translateY(-50%);
            box-shadow: 
                0 5px 15px rgba(0, 0, 0, 0.5),
                inset 0 3px 6px rgba(255, 255, 255, 0.4),
                inset 0 -2px 4px rgba(0, 0, 0, 0.3),
                0 0 20px rgba(255, 215, 0, 0.6);
            border: 3px solid #B8860B;
            z-index: 10;
        }

        .gate-handle::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 8px;
            height: 8px;
            background: radial-gradient(circle, #FFFACD, #FFD700);
            border-radius: 50%;
            box-shadow: 0 0 8px rgba(255, 215, 0, 0.8);
        }

        .gate-door.left .gate-handle {
            right: 15px;
        }

        .gate-door.right .gate-handle {
            left: 15px;
        }

        .surprise-text {
            font-family: 'Great Vibes', cursive;
            font-size: 4rem;
            color: #FF1493;
            opacity: 0;
            transform: scale(0);
            animation: popIn 0.8s ease-out forwards;
            margin-bottom: 30px;
        }

        @keyframes popIn {
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        .gifts-container {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin: 40px 0;
            opacity: 0;
            animation: giftsAppear 1s ease-out 0.5s forwards;
        }

        @keyframes giftsAppear {
            to {
                opacity: 1;
            }
        }

        .gift-box {
            width: 80px;
            height: 80px;
            position: relative;
            border-radius: 8px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
            animation: giftBounce 2s ease-in-out infinite;
        }

        .gift-1 {
            background: linear-gradient(135deg, #FF6B6B 0%, #FF8E8E 100%);
            animation-delay: 0s;
        }

        .gift-2 {
            background: linear-gradient(135deg, #4ECDC4 0%, #6EE7E0 100%);
            animation-delay: 0.3s;
        }

        .gift-3 {
            background: linear-gradient(135deg, #45B7D1 0%, #67C3E0 100%);
            animation-delay: 0.6s;
        }

        @keyframes giftBounce {
            0%, 100% { transform: translateY(0) scale(1); }
            50% { transform: translateY(-10px) scale(1.05); }
        }

        .gift-bow {
            position: absolute;
            top: -8px;
            left: 50%;
            transform: translateX(-50%);
            width: 30px;
            height: 20px;
            background: #FFD700;
            border-radius: 50% 50% 0 0;
            box-shadow: 0 3px 8px rgba(0, 0, 0, 0.2);
        }

        .gift-bow::before {
            content: '';
            position: absolute;
            top: 8px;
            left: 50%;
            transform: translateX(-50%);
            width: 4px;
            height: 80px;
            background: #FFD700;
            box-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
        }

        .gift-bow::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 40px;
            height: 4px;
            background: #FFD700;
            box-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
        }

        .fireworks-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            opacity: 0;
            animation: fireworksShow 1s ease-out 1s forwards;
        }

        @keyframes fireworksShow {
            to {
                opacity: 1;
            }
        }

        .firework {
            position: absolute;
            width: 6px;
            height: 6px;
            border-radius: 50%;
            animation: fireworkExplode 2s ease-out infinite;
        }

        .firework-1 {
            top: 20%;
            left: 15%;
            background: #FF6B6B;
            animation-delay: 0s;
        }

        .firework-2 {
            top: 30%;
            right: 20%;
            background: #4ECDC4;
            animation-delay: 0.4s;
        }

        .firework-3 {
            top: 15%;
            left: 70%;
            background: #45B7D1;
            animation-delay: 0.8s;
        }

        .firework-4 {
            top: 40%;
            left: 25%;
            background: #FFD700;
            animation-delay: 1.2s;
        }

        .firework-5 {
            top: 25%;
            right: 15%;
            background: #FF69B4;
            animation-delay: 1.6s;
        }

        @keyframes fireworkExplode {
            0% {
                transform: scale(0);
                box-shadow: 0 0 0 0 currentColor;
            }
            50% {
                transform: scale(1);
                box-shadow: 
                    0 0 20px 10px currentColor,
                    20px 0 15px 5px currentColor,
                    -20px 0 15px 5px currentColor,
                    0 20px 15px 5px currentColor,
                    0 -20px 15px 5px currentColor,
                    15px 15px 10px 3px currentColor,
                    -15px -15px 10px 3px currentColor,
                    15px -15px 10px 3px currentColor,
                    -15px 15px 10px 3px currentColor;
            }
            100% {
                transform: scale(0);
                box-shadow: 
                    0 0 40px 20px transparent,
                    40px 0 30px 10px transparent,
                    -40px 0 30px 10px transparent,
                    0 40px 30px 10px transparent,
                    0 -40px 30px 10px transparent,
                    30px 30px 20px 6px transparent,
                    -30px -30px 20px 6px transparent,
                    30px -30px 20px 6px transparent,
                    -30px 30px 20px 6px transparent;
            }
        }

        .birthday-cap {
            width: 250px;
            height: 200px;
            margin: 20px auto;
            opacity: 0;
            transform: translateY(-50px);
            animation: capAppear 1s ease-out forwards;
            position: relative;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .birthday-cap:hover {
            transform: translateY(0) scale(1.05);
        }

        .birthday-cap.wearing {
            animation: wearCrown 1.5s ease-out forwards;
        }

        @keyframes wearCrown {
            0% { transform: translateY(0) scale(1); }
            50% { transform: translateY(-30px) scale(0.8); }
            100% { transform: translateY(-100px) scale(0.6); opacity: 0; }
        }

        @keyframes capAppear {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .cap-main {
            position: relative;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .cap-top {
            width: 120px;
            height: 80px;
            background: linear-gradient(135deg, #FF1493 0%, #FF69B4 50%, #FFB6C1 100%);
            border-radius: 60px 60px 20px 20px;
            border: 4px solid #DC143C;
            box-shadow: 
                0 8px 20px rgba(0, 0, 0, 0.3),
                inset 0 4px 8px rgba(255, 255, 255, 0.3),
                0 0 30px rgba(255, 20, 147, 0.4);
            position: relative;
            animation: capGlow 2s ease-in-out infinite alternate;
        }

        @keyframes capGlow {
            0% { box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3), inset 0 4px 8px rgba(255, 255, 255, 0.3), 0 0 30px rgba(255, 20, 147, 0.4); }
            100% { box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3), inset 0 4px 8px rgba(255, 255, 255, 0.3), 0 0 50px rgba(255, 20, 147, 0.8); }
        }

        .cap-top::before {
            content: '';
            position: absolute;
            top: 10px;
            left: 20px;
            right: 20px;
            height: 20px;
            background: linear-gradient(90deg, rgba(255, 255, 255, 0.6) 0%, rgba(255, 255, 255, 0.2) 100%);
            border-radius: 50px;
        }

        .cap-band {
            width: 140px;
            height: 25px;
            background: linear-gradient(135deg, #FFD700 0%, #FFA500 50%, #FF8C00 100%);
            border: 3px solid #B8860B;
            border-radius: 15px;
            margin-top: -10px;
            display: flex;
            justify-content: space-around;
            align-items: center;
            box-shadow: 
                0 4px 12px rgba(0, 0, 0, 0.2),
                inset 0 2px 4px rgba(255, 255, 255, 0.4);
            z-index: 2;
            position: relative;
        }

        .cap-decoration {
            font-size: 1.2rem;
            animation: decorationTwinkle 1.5s ease-in-out infinite alternate;
        }

        .cap-decoration:nth-child(1) { animation-delay: 0s; }
        .cap-decoration:nth-child(2) { animation-delay: 0.5s; }
        .cap-decoration:nth-child(3) { animation-delay: 1s; }

        @keyframes decorationTwinkle {
            0% { transform: scale(1) rotate(0deg); }
            100% { transform: scale(1.2) rotate(10deg); }
        }

        .cap-brim {
            width: 180px;
            height: 15px;
            background: linear-gradient(135deg, #FF1493 0%, #FF69B4 100%);
            border: 3px solid #DC143C;
            border-radius: 90px;
            margin-top: -5px;
            box-shadow: 
                0 6px 15px rgba(0, 0, 0, 0.3),
                inset 0 2px 4px rgba(255, 255, 255, 0.2);
            position: relative;
        }

        .cap-brim::before {
            content: '';
            position: absolute;
            top: 2px;
            left: 20px;
            right: 20px;
            height: 4px;
            background: linear-gradient(90deg, rgba(255, 255, 255, 0.4) 0%, transparent 100%);
            border-radius: 50px;
        }

        .cap-text {
            font-family: 'Poppins', sans-serif;
            font-size: 1.5rem;
            color: #FF1493;
            margin-top: 10px;
        }

        .happy-birthday-text {
            font-family: 'Dancing Script', cursive;
            font-size: 3.5rem;
            color: #FF1493;
            text-shadow: 0 0 15px rgba(255, 20, 147, 0.6);
            opacity: 0;
            transform: translateY(30px);
            animation: slideInUp 1s ease-out forwards;
        }

        @keyframes slideInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Scene 2 - Cake Scene */
        .cake-container {
            position: relative;
            margin: 50px auto;
            perspective: 1000px;
        }

        .cake-base {
            position: relative;
            width: 350px;
            height: 280px;
            margin: 0 auto;
            filter: drop-shadow(0 20px 40px rgba(0, 0, 0, 0.3));
        }

        .cake-layer {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            border-radius: 15px;
            box-shadow: 
                0 8px 25px rgba(0, 0, 0, 0.3),
                inset 0 4px 8px rgba(255, 255, 255, 0.2),
                inset 0 -4px 8px rgba(0, 0, 0, 0.1);
            animation: cakeAppear 1s ease-out forwards;
            opacity: 0;
            transform: translateX(-50%) translateY(50px);
            overflow: hidden;
        }

        .cake-layer::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, 
                rgba(255, 255, 255, 0.3) 0%, 
                transparent 30%, 
                rgba(255, 255, 255, 0.1) 70%, 
                transparent 100%);
            border-radius: inherit;
        }

        .cake-layer:nth-child(1) {
            bottom: 0;
            width: 320px;
            height: 70px;
            background: linear-gradient(135deg, 
                #8B4513 0%, 
                #A0522D 20%, 
                #CD853F 40%, 
                #DEB887 60%, 
                #F4A460 80%, 
                #FFDAB9 100%);
            border: 4px solid #654321;
            animation-delay: 0.2s;
        }

        .cake-layer:nth-child(2) {
            bottom: 65px;
            width: 260px;
            height: 60px;
            background: linear-gradient(135deg, 
                #FF1493 0%, 
                #FF69B4 25%, 
                #FFB6C1 50%, 
                #FFC0CB 75%, 
                #FFCCCB 100%);
            border: 4px solid #DC143C;
            animation-delay: 0.4s;
        }

        .cake-layer:nth-child(3) {
            bottom: 120px;
            width: 200px;
            height: 55px;
            background: linear-gradient(135deg, 
                #FFD700 0%, 
                #FFED4E 25%, 
                #FFF68F 50%, 
                #FFFACD 75%, 
                #FFFFF0 100%);
            border: 4px solid #DAA520;
            animation-delay: 0.6s;
        }

        .cake-layer:nth-child(4) {
            bottom: 170px;
            width: 140px;
            height: 50px;
            background: linear-gradient(135deg, 
                #E6E6FA 0%, 
                #DDA0DD 25%, 
                #DA70D6 50%, 
                #BA55D3 75%, 
                #9370DB 100%);
            border: 4px solid #8A2BE2;
            animation-delay: 0.8s;
        }

        @keyframes cakeAppear {
            to {
                opacity: 1;
                transform: translateX(-50%) translateY(0);
            }
        }

        .frosting {
            position: absolute;
            top: -8px;
            left: -5px;
            right: -5px;
            height: 16px;
            background: linear-gradient(90deg, 
                #FFFFFF 0%, 
                #FFFAF0 20%, 
                #FFF8DC 40%, 
                #FFFACD 60%, 
                #FFF8DC 80%, 
                #FFFFFF 100%);
            border-radius: 50px;
            box-shadow: 
                0 4px 12px rgba(0, 0, 0, 0.2),
                inset 0 2px 4px rgba(255, 255, 255, 0.8),
                0 0 20px rgba(255, 255, 255, 0.6);
            border: 2px solid rgba(255, 255, 255, 0.8);
        }

        .frosting::before {
            content: '';
            position: absolute;
            top: 2px;
            left: 10px;
            right: 10px;
            height: 6px;
            background: linear-gradient(90deg, 
                rgba(255, 255, 255, 0.9) 0%, 
                rgba(255, 255, 255, 0.5) 50%, 
                rgba(255, 255, 255, 0.9) 100%);
            border-radius: 50px;
        }

        .cake-decoration {
            position: absolute;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            animation: decorationGlow 2s ease-in-out infinite alternate;
            border: 2px solid rgba(255, 255, 255, 0.8);
            box-shadow: 0 0 15px currentColor;
        }

        .decoration-1 { 
            background: radial-gradient(circle at 30% 30%, #FF69B4, #FF1493); 
            top: 20px; 
            left: 25px; 
        }
        .decoration-2 { 
            background: radial-gradient(circle at 30% 30%, #32CD32, #228B22); 
            top: 20px; 
            right: 25px; 
        }
        .decoration-3 { 
            background: radial-gradient(circle at 30% 30%, #FFD700, #FFA500); 
            top: 20px; 
            left: 50%; 
            transform: translateX(-50%); 
        }

        @keyframes decorationGlow {
            0% { 
                box-shadow: 0 0 15px currentColor, 0 0 25px currentColor; 
                transform: scale(1);
            }
            100% { 
                box-shadow: 0 0 25px currentColor, 0 0 35px currentColor; 
                transform: scale(1.1);
            }
        }

        .drip {
            position: absolute;
            width: 8px;
            height: 20px;
            background: linear-gradient(180deg, 
                rgba(139, 69, 19, 0.9) 0%, 
                rgba(160, 82, 45, 0.8) 30%, 
                rgba(101, 67, 33, 0.9) 70%, 
                rgba(139, 69, 19, 1) 100%);
            border-radius: 0 0 50% 50%;
            animation: drip 4s ease-in-out infinite;
            box-shadow: 
                0 3px 6px rgba(0, 0, 0, 0.3),
                inset 1px 0 2px rgba(255, 255, 255, 0.3);
        }

        @keyframes drip {
            0%, 100% { transform: translateY(0); opacity: 0.8; }
            50% { transform: translateY(12px); opacity: 1; }
        }

        .cake-texture {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: repeating-linear-gradient(
                45deg,
                transparent,
                transparent 2px,
                rgba(255, 255, 255, 0.1) 2px,
                rgba(255, 255, 255, 0.1) 4px
            );
            border-radius: inherit;
        }

        .candles {
            position: absolute;
            top: -60px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 25px;
            z-index: 15;
            opacity: 1;
        }

        .candle {
            width: 12px;
            height: 45px;
            background: linear-gradient(180deg, 
                #FFD700 0%, 
                #FFA500 20%, 
                #FF8C00 40%, 
                #FF7F50 60%, 
                #FF6347 80%, 
                #DC143C 100%);
            border-radius: 6px;
            position: relative;
            box-shadow: 
                0 5px 12px rgba(0, 0, 0, 0.4),
                inset 2px 0 4px rgba(255, 255, 255, 0.5),
                inset -2px 0 4px rgba(0, 0, 0, 0.3),
                0 0 15px rgba(255, 215, 0, 0.3);
            border: 2px solid #B8860B;
        }

        .candle::before {
            content: '';
            position: absolute;
            top: 3px;
            left: 1px;
            right: 1px;
            height: 8px;
            background: linear-gradient(90deg, 
                rgba(255, 255, 255, 0.6) 0%, 
                rgba(255, 255, 255, 0.2) 100%);
            border-radius: 2px;
        }

        .candle::after {
            content: '';
            position: absolute;
            top: -2px;
            left: 50%;
            transform: translateX(-50%);
            width: 2px;
            height: 4px;
            background: #2C1810;
            border-radius: 1px;
        }

        .flame {
            position: absolute;
            top: -25px;
            left: 50%;
            transform: translateX(-50%);
            width: 16px;
            height: 22px;
            background: radial-gradient(ellipse at center bottom, 
                #FFD700 0%, 
                #FFA500 20%, 
                #FF6347 40%, 
                #FF4500 60%, 
                #DC143C 80%, 
                #8B0000 100%);
            border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
            animation: flicker 1.2s ease-in-out infinite alternate;
            box-shadow: 
                0 0 20px rgba(255, 165, 0, 1),
                0 0 35px rgba(255, 69, 0, 0.8),
                0 0 50px rgba(255, 140, 0, 0.6);
            filter: blur(0.3px);
            z-index: 20;
        }

        .flame::before {
            content: '';
            position: absolute;
            top: 2px;
            left: 50%;
            transform: translateX(-50%);
            width: 6px;
            height: 10px;
            background: radial-gradient(ellipse at center bottom, 
                #FFFF00 0%, 
                #FFD700 30%, 
                #FFA500 60%, 
                transparent 100%);
            border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
        }

        .flame::after {
            content: '';
            position: absolute;
            top: 4px;
            left: 50%;
            transform: translateX(-50%);
            width: 3px;
            height: 6px;
            background: radial-gradient(ellipse at center bottom, 
                #FFFFFF 0%, 
                #FFFF00 50%, 
                transparent 100%);
            border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
        }

        @keyframes flicker {
            0% { 
                transform: translateX(-50%) scale(1) rotate(-1deg); 
                box-shadow: 
                    0 0 15px rgba(255, 165, 0, 0.8),
                    0 0 25px rgba(255, 69, 0, 0.6),
                    0 0 35px rgba(255, 140, 0, 0.4);
            }
            100% { 
                transform: translateX(-50%) scale(1.15) rotate(1deg); 
                box-shadow: 
                    0 0 20px rgba(255, 165, 0, 1),
                    0 0 30px rgba(255, 69, 0, 0.8),
                    0 0 40px rgba(255, 140, 0, 0.6);
            }
        }

        .flame.blowing-out {
            animation: blowOut 1.5s ease-out forwards;
        }

        @keyframes blowOut {
            0% { 
                transform: translateX(-50%) scale(1) rotate(0deg);
                opacity: 1;
            }
            20% { 
                transform: translateX(-50%) scale(1.3) rotate(-15deg);
                opacity: 0.8;
            }
            40% { 
                transform: translateX(-50%) scale(0.8) rotate(20deg);
                opacity: 0.6;
            }
            60% { 
                transform: translateX(-50%) scale(1.1) rotate(-10deg);
                opacity: 0.4;
            }
            80% { 
                transform: translateX(-50%) scale(0.5) rotate(5deg);
                opacity: 0.2;
            }
            100% { 
                transform: translateX(-50%) scale(0) rotate(0deg);
                opacity: 0;
            }
        }

        .smoke {
            position: absolute;
            top: -18px;
            left: 50%;
            transform: translateX(-50%);
            width: 3px;
            height: 20px;
            background: linear-gradient(180deg, 
                rgba(128, 128, 128, 0.8) 0%, 
                rgba(169, 169, 169, 0.6) 30%, 
                rgba(192, 192, 192, 0.4) 60%, 
                transparent 100%);
            border-radius: 50%;
            opacity: 0;
            animation: smokeRise 2s ease-out;
            filter: blur(1px);
        }

        @keyframes smokeRise {
            0% { 
                opacity: 0; 
                transform: translateX(-50%) translateY(0) scale(1);
            }
            20% { 
                opacity: 0.8; 
                transform: translateX(-50%) translateY(-5px) scale(1.2);
            }
            100% { 
                opacity: 0; 
                transform: translateX(-50%) translateY(-25px) scale(2);
            }
        }

        .wish-button {
            background: linear-gradient(45deg, #FF1493, #FF69B4);
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.2rem;
            border-radius: 50px;
            cursor: pointer;
            margin-top: 50px;
            font-family: 'Poppins', sans-serif;
            box-shadow: 0 5px 15px rgba(255, 20, 147, 0.4);
            transition: transform 0.3s ease;
        }

        .wish-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(255, 20, 147, 0.6);
        }

        /* Scene 3 - Cake Cutting */
        .cutting-animation {
            position: relative;
            margin: 30px auto;
            width: 350px;
            height: 280px;
            overflow: hidden;
        }

        .magical-knife {
            position: absolute;
            width: 8px;
            height: 120px;
            top: -60px;
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            animation: magicalSlice 3s ease-in-out;
            z-index: 10;
        }

        .knife-blade {
            width: 100%;
            height: 80px;
            background: linear-gradient(180deg, 
                #E8E8E8 0%, 
                #C0C0C0 20%, 
                #A8A8A8 40%, 
                #909090 60%, 
                #808080 80%, 
                #696969 100%);
            border-radius: 0 0 2px 2px;
            box-shadow: 
                0 0 10px rgba(192, 192, 192, 0.8),
                inset 2px 0 4px rgba(255, 255, 255, 0.6),
                inset -2px 0 4px rgba(0, 0, 0, 0.3);
            position: relative;
        }

        .knife-blade::before {
            content: '';
            position: absolute;
            top: 0;
            left: 1px;
            right: 1px;
            height: 100%;
            background: linear-gradient(90deg, 
                rgba(255, 255, 255, 0.8) 0%, 
                transparent 30%, 
                rgba(255, 255, 255, 0.4) 70%, 
                transparent 100%);
            border-radius: inherit;
        }

        .knife-handle {
            width: 100%;
            height: 40px;
            background: linear-gradient(180deg, 
                #8B4513 0%, 
                #A0522D 25%, 
                #CD853F 50%, 
                #D2691E 75%, 
                #8B4513 100%);
            border-radius: 4px;
            box-shadow: 
                0 2px 6px rgba(0, 0, 0, 0.4),
                inset 0 2px 4px rgba(255, 255, 255, 0.3);
            position: relative;
        }

        .knife-handle::before {
            content: '';
            position: absolute;
            top: 5px;
            left: 1px;
            right: 1px;
            height: 8px;
            background: linear-gradient(90deg, 
                rgba(255, 255, 255, 0.6) 0%, 
                rgba(255, 255, 255, 0.2) 100%);
            border-radius: 2px;
        }

        @keyframes magicalSlice {
            0% { 
                opacity: 0; 
                top: -60px; 
                transform: translateX(-50%) rotate(0deg);
            }
            15% { 
                opacity: 1; 
                top: 20px; 
                transform: translateX(-50%) rotate(-5deg);
            }
            30% { 
                top: 60px; 
                transform: translateX(-50%) rotate(5deg);
            }
            45% { 
                top: 100px; 
                transform: translateX(-50%) rotate(-3deg);
            }
            60% { 
                top: 140px; 
                transform: translateX(-50%) rotate(2deg);
            }
            75% { 
                top: 180px; 
                transform: translateX(-50%) rotate(0deg);
            }
            90% { 
                opacity: 1; 
                top: 220px; 
                transform: translateX(-50%) rotate(0deg);
            }
            100% { 
                opacity: 0; 
                top: 280px; 
                transform: translateX(-50%) rotate(0deg);
            }
        }

        .slice-effect {
            position: absolute;
            width: 2px;
            height: 100%;
            background: linear-gradient(180deg, 
                transparent 0%, 
                rgba(255, 215, 0, 0.8) 20%, 
                rgba(255, 255, 255, 1) 50%, 
                rgba(255, 215, 0, 0.8) 80%, 
                transparent 100%);
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            animation: sliceGlow 3s ease-in-out;
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.6);
        }

        @keyframes sliceGlow {
            0%, 100% { opacity: 0; }
            15%, 75% { opacity: 1; }
        }

        .cake-split {
            position: absolute;
            width: 50%;
            height: 100%;
            transition: transform 2s ease-out;
            transform-origin: center center;
        }

        .cake-split.left {
            left: 0;
            animation: splitLeft 2s ease-out 1s forwards;
        }

        .cake-split.right {
            right: 0;
            animation: splitRight 2s ease-out 1s forwards;
        }

        @keyframes splitLeft {
            0% { transform: translateX(0) rotate(0deg); }
            100% { transform: translateX(-30px) rotate(-15deg); }
        }

        @keyframes splitRight {
            0% { transform: translateX(0) rotate(0deg); }
            100% { transform: translateX(30px) rotate(15deg); }
        }

        .cake-pieces {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 40px 0;
            flex-wrap: wrap;
            opacity: 0;
            animation: piecesAppear 1.5s ease-out 3s forwards;
        }

        @keyframes piecesAppear {
            0% { 
                opacity: 0; 
                transform: translateY(30px); 
            }
            100% { 
                opacity: 1; 
                transform: translateY(0); 
            }
        }

        .cake-piece {
            width: 90px;
            height: 70px;
            position: relative;
            cursor: grab;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            filter: drop-shadow(0 8px 16px rgba(0, 0, 0, 0.3));
            animation: pieceFloat 3s ease-in-out infinite;
        }

        .cake-piece:nth-child(1) { animation-delay: 0s; }
        .cake-piece:nth-child(2) { animation-delay: 0.5s; }
        .cake-piece:nth-child(3) { animation-delay: 1s; }
        .cake-piece:nth-child(4) { animation-delay: 1.5s; }

        @keyframes pieceFloat {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-8px) rotate(2deg); }
        }

        .cake-piece::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, 
                #FF1493 0%, 
                #FF69B4 25%, 
                #FFB6C1 50%, 
                #FFC0CB 75%, 
                #FFCCCB 100%);
            border-radius: 8px 8px 0 0;
            border: 3px solid #DC143C;
            box-shadow: 
                0 6px 20px rgba(0, 0, 0, 0.25),
                inset 0 4px 8px rgba(255, 255, 255, 0.3),
                inset 0 -4px 8px rgba(0, 0, 0, 0.1);
        }

        .cake-piece::after {
            content: '';
            position: absolute;
            top: -6px;
            left: -3px;
            right: -3px;
            height: 12px;
            background: linear-gradient(90deg, 
                #FFFFFF 0%, 
                #FFFAF0 20%, 
                #FFF8DC 40%, 
                #FFFACD 60%, 
                #FFF8DC 80%, 
                #FFFFFF 100%);
            border-radius: 50px;
            border: 2px solid rgba(255, 255, 255, 0.9);
            box-shadow: 
                0 4px 12px rgba(0, 0, 0, 0.2),
                inset 0 2px 4px rgba(255, 255, 255, 0.8),
                0 0 15px rgba(255, 255, 255, 0.6);
        }

        .cake-piece:hover {
            transform: scale(1.15) translateY(-10px) rotate(5deg);
            filter: drop-shadow(0 12px 24px rgba(0, 0, 0, 0.4));
        }

        .cake-piece.dragging {
            cursor: grabbing;
            z-index: 1000;
            transform: scale(1.25) rotate(10deg);
            filter: drop-shadow(0 15px 30px rgba(0, 0, 0, 0.5));
        }

        .piece-sparkle {
            position: absolute;
            width: 6px;
            height: 6px;
            background: #FFD700;
            border-radius: 50%;
            animation: sparkleGlow 2s ease-in-out infinite alternate;
            box-shadow: 0 0 10px #FFD700;
        }

        .piece-sparkle:nth-child(1) { top: 15px; left: 15px; animation-delay: 0s; }
        .piece-sparkle:nth-child(2) { top: 25px; right: 15px; animation-delay: 0.7s; }
        .piece-sparkle:nth-child(3) { top: 35px; left: 50%; transform: translateX(-50%); animation-delay: 1.4s; }

        @keyframes sparkleGlow {
            0% { 
                opacity: 0.6; 
                transform: scale(1); 
                box-shadow: 0 0 10px #FFD700; 
            }
            100% { 
                opacity: 1; 
                transform: scale(1.3); 
                box-shadow: 0 0 20px #FFD700, 0 0 30px #FFA500; 
            }
        }

        .bowls-container {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin: 50px 0;
            flex-wrap: wrap;
            perspective: 1000px;
        }

        .bowl {
            width: 120px;
            height: 80px;
            position: relative;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            filter: drop-shadow(0 10px 25px rgba(0, 0, 0, 0.15));
            animation: bowlFloat 4s ease-in-out infinite;
        }

        .bowl:nth-child(1) { animation-delay: 0s; }
        .bowl:nth-child(2) { animation-delay: 1s; }
        .bowl:nth-child(3) { animation-delay: 2s; }
        .bowl:nth-child(4) { animation-delay: 3s; }

        @keyframes bowlFloat {
            0%, 100% { transform: translateY(0) rotateX(0deg); }
            50% { transform: translateY(-5px) rotateX(5deg); }
        }

        .bowl::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, 
                #FFFFFF 0%, 
                #F8F8FF 20%, 
                #F0F8FF 40%, 
                #E6E6FA 60%, 
                #F0F0F0 80%, 
                #FFFFFF 100%);
            border-radius: 25px 25px 60px 60px;
            border: 4px solid #E0E0E0;
            box-shadow: 
                0 8px 20px rgba(0, 0, 0, 0.2),
                inset 0 -4px 8px rgba(255, 255, 255, 0.8),
                inset 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .bowl::after {
            content: '';
            position: absolute;
            bottom: -6px;
            left: 15%;
            right: 15%;
            height: 12px;
            background: linear-gradient(90deg, 
                #F5F5F5 0%, 
                #FFFFFF 20%, 
                #F8F8FF 40%, 
                #FFFFFF 60%, 
                #F0F8FF 80%, 
                #F5F5F5 100%);
            border-radius: 50px;
            border: 2px solid rgba(224, 224, 224, 0.8);
            box-shadow: 
                0 3px 8px rgba(0, 0, 0, 0.15),
                inset 0 -2px 4px rgba(255, 255, 255, 0.9);
        }

        .bowl.highlight {
            transform: scale(1.15) translateY(-8px) rotateX(10deg);
            filter: drop-shadow(0 15px 35px rgba(255, 105, 180, 0.3));
        }

        .bowl.highlight::before {
            background: linear-gradient(135deg, 
                #FFE4E1 0%, 
                #FFF0F5 20%, 
                #FFEBEE 40%, 
                #FCE4EC 60%, 
                #F8BBD9 80%, 
                #FFE4E1 100%);
            border-color: #FF69B4;
            box-shadow: 
                0 8px 20px rgba(255, 105, 180, 0.3),
                inset 0 -4px 8px rgba(255, 255, 255, 0.9),
                inset 0 4px 8px rgba(255, 105, 180, 0.2),
                0 0 25px rgba(255, 105, 180, 0.4);
        }

        .bowl.filled::before {
            background: linear-gradient(135deg, 
                #FF69B4 0%, 
                #FF1493 25%, 
                #DC143C 50%, 
                #B22222 75%, 
                #8B0000 100%);
            border-color: #DC143C;
            box-shadow: 
                0 8px 20px rgba(220, 20, 60, 0.4),
                inset 0 -4px 8px rgba(255, 255, 255, 0.3),
                inset 0 4px 8px rgba(0, 0, 0, 0.3),
                0 0 30px rgba(255, 20, 147, 0.5);
        }

        .bowl-shine {
            position: absolute;
            top: 20%;
            left: 20%;
            width: 25px;
            height: 15px;
            background: linear-gradient(135deg, 
                rgba(255, 255, 255, 0.9) 0%, 
                rgba(255, 255, 255, 0.6) 50%, 
                transparent 100%);
            border-radius: 50%;
            transform: rotate(-20deg);
            animation: shineGlow 3s ease-in-out infinite alternate;
        }

        @keyframes shineGlow {
            0% { opacity: 0.6; }
            100% { opacity: 1; }
        }

        .family-members {
            display: flex;
            justify-content: space-around;
            margin: 50px 0;
            flex-wrap: wrap;
            gap: 20px;
        }

        .family-member {
            text-align: center;
            padding: 20px;
            border: 3px dashed #FF1493;
            border-radius: 20px;
            min-width: 120px;
            min-height: 120px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .family-member.highlight {
            background: rgba(255, 20, 147, 0.1);
            border-style: solid;
        }

        .family-emoji {
            font-size: 3rem;
            margin-bottom: 10px;
        }

        .family-name {
            font-family: 'Poppins', sans-serif;
            font-weight: 600;
            color: #FF1493;
        }

        .message-popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            max-width: 400px;
            text-align: center;
            z-index: 1000;
            opacity: 0;
            transform: translate(-50%, -50%) scale(0);
            transition: all 0.5s ease;
        }

        .message-popup.show {
            opacity: 1;
            transform: translate(-50%, -50%) scale(1);
        }

        .message-popup h3 {
            color: #FF1493;
            margin-bottom: 15px;
            font-family: 'Dancing Script', cursive;
            font-size: 1.8rem;
        }

        .message-popup p {
            color: #333;
            line-height: 1.6;
            font-size: 1rem;
        }

        .close-message {
            background: #FF1493;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            margin-top: 15px;
            font-family: 'Poppins', sans-serif;
        }

        /* Scene 4 - Final Message */
        .final-title {
            font-family: 'Great Vibes', cursive;
            font-size: 4rem;
            color: #FF1493;
            text-shadow: 0 0 20px rgba(255, 20, 147, 0.6);
            margin-bottom: 30px;
            animation: finalGlow 2s ease-in-out infinite alternate;
        }

        @keyframes finalGlow {
            from { text-shadow: 0 0 20px rgba(255, 20, 147, 0.6); }
            to { text-shadow: 0 0 30px rgba(255, 20, 147, 1), 0 0 40px rgba(255, 105, 180, 0.8); }
        }

        .glowing-heart {
            font-size: 4rem;
            color: #FF1493;
            animation: heartBeat 1.5s ease-in-out infinite;
            margin: 20px 0;
        }

        @keyframes heartBeat {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }

        .final-message {
            font-family: 'Poppins', sans-serif;
            font-size: 1.3rem;
            color: #333;
            max-width: 600px;
            line-height: 1.8;
            margin: 30px auto;
            background: rgba(255, 255, 255, 0.9);
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .confetti {
            position: fixed;
            top: -10px;
            left: 0;
            width: 100%;
            height: 100vh;
            pointer-events: none;
            z-index: 999;
        }

        .confetti-piece {
            position: absolute;
            width: 10px;
            height: 10px;
            background: #FF1493;
            animation: confettiFall 3s linear infinite;
        }

        @keyframes confettiFall {
            0% {
                transform: translateY(-100vh) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }

        .restart-button {
            background: linear-gradient(45deg, #32CD32, #90EE90);
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.2rem;
            border-radius: 50px;
            cursor: pointer;
            margin-top: 30px;
            font-family: 'Poppins', sans-serif;
            box-shadow: 0 5px 15px rgba(50, 205, 50, 0.4);
            transition: transform 0.3s ease;
        }

        .restart-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(50, 205, 50, 0.6);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .gate-text {
                font-size: 2rem;
            }
            
            .magical-gate {
                width: 320px;
                height: 400px;
            }
            
            .surprise-text {
                font-size: 2.5rem;
            }
            
            .happy-birthday-text {
                font-size: 2.5rem;
            }
            
            .final-title {
                font-size: 2.5rem;
            }
            
            .final-message {
                font-size: 1.1rem;
                padding: 20px;
            }
            
            .family-members {
                justify-content: center;
            }
            
            .cake-slices {
                justify-content: center;
            }
        }

        .fade-out {
            opacity: 0;
            transition: opacity 1s ease-out;
        }

        .hidden {
            display: none !important;
        }
    </style>
</head>
<body>
    <!-- Sparkles Background -->
    <div class="sparkles" id="sparkles"></div>

    <!-- Scene 1: Gate Entry -->
    <div class="scene active" id="scene1">
        <div class="gate-text">Come here, GUL_E_MAHI</div>
        <div class="magical-gate" id="magicalGate">
            <div class="gate-door left">
                <div class="gate-handle"></div>
            </div>
            <div class="gate-door right">
                <div class="gate-handle"></div>
            </div>
        </div>
        
        <div id="surpriseContent" class="hidden">
            <div class="surprise-text">Surprise! ðŸŽ‰</div>
            <div class="gifts-container">
                <div class="gift-box gift-1">
                    <div class="gift-bow"></div>
                </div>
                <div class="gift-box gift-2">
                    <div class="gift-bow"></div>
                </div>
                <div class="gift-box gift-3">
                    <div class="gift-bow"></div>
                </div>
            </div>
            <div class="fireworks-container">
                <div class="firework firework-1"></div>
                <div class="firework firework-2"></div>
                <div class="firework firework-3"></div>
                <div class="firework firework-4"></div>
                <div class="firework firework-5"></div>
            </div>
        </div>
        
        <div id="capContent" class="hidden">
            <div class="birthday-cap" id="birthdayCap">
                <div class="cap-main">
                    <div class="cap-top"></div>
                    <div class="cap-band">
                        <div class="cap-decoration">ðŸŽ‰</div>
                        <div class="cap-decoration">âœ¨</div>
                        <div class="cap-decoration">ðŸŽ‚</div>
                    </div>
                    <div class="cap-brim"></div>
                </div>
            </div>
            <div class="cap-text">Click to Put on your Birthday Crown! ðŸ‘‘</div>
        </div>
        
        <div id="birthdayContent" class="hidden">
            <div class="happy-birthday-text">Happy Birthday, GUL_E_MAHI!</div>
        </div>
    </div>

    <!-- Scene 2: Cake Scene -->
    <div class="scene" id="scene2">
        <h2 style="font-family: 'Dancing Script', cursive; font-size: 3rem; color: #FF1493; margin-bottom: 30px;">Make a Wish! âœ¨</h2>
        <div class="cake-container">
            <div class="cake-base">
                <div class="cake-layer">
                    <div class="cake-texture"></div>
                    <div class="frosting"></div>
                    <div class="cake-decoration decoration-1"></div>
                    <div class="cake-decoration decoration-2"></div>
                    <div class="drip" style="left: 15%;"></div>
                    <div class="drip" style="left: 35%;"></div>
                    <div class="drip" style="left: 65%;"></div>
                    <div class="drip" style="left: 85%;"></div>
                </div>
                <div class="cake-layer">
                    <div class="cake-texture"></div>
                    <div class="frosting"></div>
                    <div class="cake-decoration decoration-3"></div>
                    <div class="drip" style="left: 20%;"></div>
                    <div class="drip" style="left: 80%;"></div>
                </div>
                <div class="cake-layer">
                    <div class="cake-texture"></div>
                    <div class="frosting"></div>
                    <div class="drip" style="left: 25%;"></div>
                    <div class="drip" style="left: 75%;"></div>
                </div>
                <div class="cake-layer">
                    <div class="cake-texture"></div>
                    <div class="frosting"></div>
                    <div class="candles">
                        <div class="candle">
                            <div class="flame"></div>
                            <div class="smoke"></div>
                        </div>
                        <div class="candle">
                            <div class="flame"></div>
                            <div class="smoke"></div>
                        </div>
                        <div class="candle">
                            <div class="flame"></div>
                            <div class="smoke"></div>
                        </div>
                        <div class="candle">
                            <div class="flame"></div>
                            <div class="smoke"></div>
                        </div>
                        <div class="candle">
                            <div class="flame"></div>
                            <div class="smoke"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <button class="wish-button" id="wishButton">ðŸŽ‚ Make a Wish & Blow Candles ðŸŽ‚</button>
    </div>

    <!-- Scene 3: Cake Cutting -->
    <div class="scene" id="scene3">
        <h2 style="font-family: 'Dancing Script', cursive; font-size: 2.5rem; color: #FF1493; margin-bottom: 30px;">Share the Joy! ðŸ°</h2>
        
        <div class="cutting-animation" id="cuttingAnimation">
            <div class="cake-base">
                <div class="cake-layer">
                    <div class="cake-texture"></div>
                    <div class="frosting"></div>
                    <div class="cake-decoration decoration-1"></div>
                    <div class="cake-decoration decoration-2"></div>
                </div>
                <div class="cake-layer">
                    <div class="cake-texture"></div>
                    <div class="frosting"></div>
                    <div class="cake-decoration decoration-3"></div>
                </div>
                <div class="cake-layer">
                    <div class="cake-texture"></div>
                    <div class="frosting"></div>
                </div>
                <div class="cake-layer">
                    <div class="cake-texture"></div>
                    <div class="frosting"></div>
                </div>
            </div>
            <div class="magical-knife" id="magicalKnife">
                <div class="knife-blade"></div>
                <div class="knife-handle"></div>
            </div>
            <div class="slice-effect"></div>
        </div>
        
        <div class="cake-pieces" id="cakePieces">
            <div class="cake-piece" draggable="true" data-piece="1">
                <div class="piece-sparkle"></div>
                <div class="piece-sparkle"></div>
                <div class="piece-sparkle"></div>
            </div>
            <div class="cake-piece" draggable="true" data-piece="2">
                <div class="piece-sparkle"></div>
                <div class="piece-sparkle"></div>
                <div class="piece-sparkle"></div>
            </div>
            <div class="cake-piece" draggable="true" data-piece="3">
                <div class="piece-sparkle"></div>
                <div class="piece-sparkle"></div>
                <div class="piece-sparkle"></div>
            </div>
            <div class="cake-piece" draggable="true" data-piece="4">
                <div class="piece-sparkle"></div>
                <div class="piece-sparkle"></div>
                <div class="piece-sparkle"></div>
            </div>
        </div>
        
        <div class="bowls-container">
            <div class="bowl" data-member="dad">
                <div class="bowl-shine"></div>
                <div style="text-align: center; margin-top: 10px; font-family: 'Poppins', sans-serif; font-weight: 600; color: #FF1493; z-index: 10; position: relative;">
                    <div style="font-size: 2.5rem;">ðŸ‘¨</div>
                    <div style="font-size: 1.1rem;">Dad</div>
                </div>
            </div>
            <div class="bowl" data-member="mom">
                <div class="bowl-shine"></div>
                <div style="text-align: center; margin-top: 10px; font-family: 'Poppins', sans-serif; font-weight: 600; color: #FF1493; z-index: 10; position: relative;">
                    <div style="font-size: 2.5rem;">ðŸ‘©</div>
                    <div style="font-size: 1.1rem;">Mom</div>
                </div>
            </div>
            <div class="bowl" data-member="sisters">
                <div class="bowl-shine"></div>
                <div style="text-align: center; margin-top: 10px; font-family: 'Poppins', sans-serif; font-weight: 600; color: #FF1493; z-index: 10; position: relative;">
                    <div style="font-size: 2.5rem;">ðŸ‘­</div>
                    <div style="font-size: 1.1rem;">Sisters</div>
                </div>
            </div>
            <div class="bowl" data-member="me">
                <div class="bowl-shine"></div>
                <div style="text-align: center; margin-top: 10px; font-family: 'Poppins', sans-serif; font-weight: 600; color: #FF1493; z-index: 10; position: relative;">
                    <div style="font-size: 2.5rem;">ðŸŒŸ</div>
                    <div style="font-size: 1.1rem;">Me</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Scene 4: Final Message -->
    <div class="scene" id="scene4">
        <div class="final-title">ðŸŽ‰ Happy Birthday, GUL_E_MAHI (Halay Khan) ðŸŽ‰</div>
        <div class="glowing-heart">ðŸ’–</div>
        <div class="final-message">
            You bring magic to every moment. Today and always, you are cherished. Here's to another year of beautiful memories! âœ¨
        </div>
        <button class="restart-button" id="restartButton">ðŸŽ‚ Start Again ðŸŽ‚</button>
    </div>

    <!-- Message Popup -->
    <div class="message-popup" id="messagePopup">
        <h3 id="messageTitle"></h3>
        <p id="messageText"></p>
        <button class="close-message" id="closeMessage">Continue</button>
    </div>

    <!-- Confetti Container -->
    <div class="confetti" id="confetti"></div>

    <script>
        // Create sparkles
        function createSparkles() {
            const sparklesContainer = document.getElementById('sparkles');
            for (let i = 0; i < 50; i++) {
                const sparkle = document.createElement('div');
                sparkle.className = 'sparkle';
                sparkle.style.left = Math.random() * 100 + '%';
                sparkle.style.top = Math.random() * 100 + '%';
                sparkle.style.animationDelay = Math.random() * 3 + 's';
                sparklesContainer.appendChild(sparkle);
            }
        }

        // Scene management
        let currentScene = 1;
        const totalScenes = 4;

        function showScene(sceneNumber) {
            document.querySelectorAll('.scene').forEach(scene => {
                scene.classList.remove('active');
            });
            document.getElementById(`scene${sceneNumber}`).classList.add('active');
            currentScene = sceneNumber;
        }

        // Scene 1: Gate Animation
        document.getElementById('magicalGate').addEventListener('click', function() {
            // Hide the gate text first
            const gateText = document.querySelector('.gate-text');
            gateText.style.opacity = '0';
            gateText.style.transition = 'opacity 0.5s ease-out';
            
            const doors = document.querySelectorAll('.gate-door');
            doors.forEach(door => door.classList.add('open'));
            
            setTimeout(() => {
                document.getElementById('magicalGate').style.display = 'none';
                document.getElementById('surpriseContent').classList.remove('hidden');
                
                setTimeout(() => {
                    document.getElementById('surpriseContent').classList.add('fade-out');
                    setTimeout(() => {
                        document.getElementById('surpriseContent').classList.add('hidden');
                        document.getElementById('capContent').classList.remove('hidden');
                        
                        // Wait for user to click the crown
                        document.getElementById('birthdayCap').addEventListener('click', function() {
                            this.classList.add('wearing');
                            document.querySelector('.cap-text').textContent = 'Beautiful! You look amazing! ðŸ‘‘âœ¨';
                            
                            setTimeout(() => {
                                document.getElementById('capContent').classList.add('fade-out');
                                setTimeout(() => {
                                    document.getElementById('capContent').classList.add('hidden');
                                    document.getElementById('birthdayContent').classList.remove('hidden');
                                    
                                    setTimeout(() => {
                                        showScene(2);
                                    }, 3000);
                                }, 1000);
                            }, 2000);
                        });
                    }, 1000);
                }, 2000);
            }, 1000);
        });

        // Scene 2: Cake and Candles
        document.getElementById('wishButton').addEventListener('click', function() {
            const flames = document.querySelectorAll('.flame');
            const candles = document.querySelectorAll('.candle');
            
            // Professional candle blowing animation
            flames.forEach((flame, index) => {
                setTimeout(() => {
                    flame.classList.add('blowing-out');
                    
                    // Create smoke effect after flame goes out
                    setTimeout(() => {
                        const smoke = document.createElement('div');
                        smoke.className = 'smoke';
                        candles[index].appendChild(smoke);
                        
                        // Remove smoke after animation
                        setTimeout(() => {
                            if (smoke.parentNode) {
                                smoke.remove();
                            }
                        }, 2000);
                    }, 1000);
                }, index * 200); // Stagger the blowing out effect
            });
            
            // Add magical sparkle effect
            setTimeout(() => {
                for (let i = 0; i < 30; i++) {
                    const sparkle = document.createElement('div');
                    sparkle.style.position = 'absolute';
                    sparkle.style.width = '6px';
                    sparkle.style.height = '6px';
                    sparkle.style.background = '#FFD700';
                    sparkle.style.borderRadius = '50%';
                    sparkle.style.left = Math.random() * 100 + '%';
                    sparkle.style.top = Math.random() * 100 + '%';
                    sparkle.style.animation = 'sparkle 1.5s ease-out';
                    sparkle.style.boxShadow = '0 0 10px #FFD700';
                    document.getElementById('scene2').appendChild(sparkle);
                    
                    setTimeout(() => sparkle.remove(), 1500);
                }
            }, 800);
            
            setTimeout(() => {
                showScene(3);
                // Start magical cake cutting animation
                setTimeout(() => {
                    document.getElementById('magicalKnife').style.animation = 'magicalSlice 3s ease-in-out';
                }, 500);
            }, 3000);
        });

        // Scene 3: Drag and Drop
        let deliveredPieces = 0;
        const messages = {
            dad: {
                title: "Message from Dad ðŸ‘¨",
                text: "Happy birthday, GUL saib. I am so proud of you. You are the shine of my eyes. I love you beta. Allah di kamyab ka lori. ðŸŽ©â¤ï¸"
            },
            mom: {
                title: "Message from Mom ðŸ‘©",
                text: "GULI, I love you sooo much. Zama da zra sar ye ta You will always be my special. Keep working hard. I love you beta. Allah di khpal hifazat ki sata. ðŸ‘©â€ðŸ‘§ðŸŒ¸"
            },
            sisters: {
                title: "Message from Sisters ðŸ‘­",
                text: "We love you GULI! You are like a second mother to us. We will always respect and love you. ðŸ‘­ðŸ’–"
            },
            me: {
                title: "Message from Me ðŸŒŸ",
                text: "You have this positive energy. Always keep smiling and spread that smile to others. You're unique and special to me. ðŸŒŸðŸ˜Š"
            }
        };

        // Drag and drop functionality
        let draggedPiece = null;

        document.querySelectorAll('.cake-piece').forEach(piece => {
            piece.addEventListener('dragstart', function(e) {
                draggedPiece = this;
                this.classList.add('dragging');
            });

            piece.addEventListener('dragend', function() {
                this.classList.remove('dragging');
                draggedPiece = null;
            });
        });

        document.querySelectorAll('.bowl').forEach(bowl => {
            bowl.addEventListener('dragover', function(e) {
                e.preventDefault();
                this.classList.add('highlight');
            });

            bowl.addEventListener('dragleave', function() {
                this.classList.remove('highlight');
            });

            bowl.addEventListener('drop', function(e) {
                e.preventDefault();
                this.classList.remove('highlight');
                
                if (draggedPiece) {
                    draggedPiece.style.display = 'none';
                    this.classList.add('filled');
                    const memberType = this.dataset.member;
                    showMessage(memberType);
                    deliveredPieces++;
                }
            });
        });

        function showMessage(memberType) {
            const popup = document.getElementById('messagePopup');
            const title = document.getElementById('messageTitle');
            const text = document.getElementById('messageText');
            
            title.textContent = messages[memberType].title;
            text.textContent = messages[memberType].text;
            popup.classList.add('show');
        }

        document.getElementById('closeMessage').addEventListener('click', function() {
            document.getElementById('messagePopup').classList.remove('show');
            
            if (deliveredPieces >= 4) {
                setTimeout(() => {
                    showScene(4);
                    createConfetti();
                }, 1000);
            }
        });

        // Scene 4: Confetti
        function createConfetti() {
            const confettiContainer = document.getElementById('confetti');
            const colors = ['#FF1493', '#FFD700', '#32CD32', '#FF69B4', '#00CED1'];
            
            for (let i = 0; i < 100; i++) {
                const confettiPiece = document.createElement('div');
                confettiPiece.className = 'confetti-piece';
                confettiPiece.style.left = Math.random() * 100 + '%';
                confettiPiece.style.background = colors[Math.floor(Math.random() * colors.length)];
                confettiPiece.style.animationDelay = Math.random() * 3 + 's';
                confettiPiece.style.animationDuration = (Math.random() * 2 + 2) + 's';
                confettiContainer.appendChild(confettiPiece);
                
                setTimeout(() => confettiPiece.remove(), 5000);
            }
        }

        // Restart functionality
        document.getElementById('restartButton').addEventListener('click', function() {
            // Reset all states
            deliveredPieces = 0;
            
            // Reset gate
            document.querySelectorAll('.gate-door').forEach(door => door.classList.remove('open'));
            document.getElementById('magicalGate').style.display = 'block';
            document.querySelector('.gate-text').style.opacity = '1';
            document.getElementById('surpriseContent').className = 'hidden';
            document.getElementById('capContent').className = 'hidden';
            document.getElementById('birthdayContent').className = 'hidden';
            
            // Reset crown
            document.getElementById('birthdayCap').classList.remove('wearing');
            document.querySelector('.cap-text').textContent = 'Click to Put on your Birthday Crown! ðŸ‘‘';
            
            // Reset candles
            document.querySelectorAll('.flame').forEach(flame => {
                flame.classList.remove('blowing-out');
                flame.style.animation = '';
                flame.style.opacity = '';
            });
            
            // Remove any remaining smoke
            document.querySelectorAll('.smoke').forEach(smoke => {
                smoke.remove();
            });
            
            // Reset cake pieces
            document.querySelectorAll('.cake-piece').forEach(piece => {
                piece.style.display = 'block';
            });
            
            // Reset bowls
            document.querySelectorAll('.bowl').forEach(bowl => {
                bowl.classList.remove('filled');
            });
            
            // Reset knife animation
            document.getElementById('magicalKnife').style.animation = '';
            
            // Clear confetti
            document.getElementById('confetti').innerHTML = '';
            
            // Go back to scene 1
            showScene(1);
        });

        // Initialize
        createSparkles();
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'96b8439103cf94d1',t:'MTc1NDU4NTMzMS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
